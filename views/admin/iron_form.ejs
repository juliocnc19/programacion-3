<%- include('../partials/header') %>
<div class="container mt-5">
  <h2><%= iron ? 'Editar Hierro' : 'Nuevo Hierro' %></h2>
  <form method="POST" action="<%= iron ? ('/admin/irons/edit/' + iron.id) : '/admin/irons/new' %>">
    <div class="mb-3">
      <label for="symbolImageUrl" class="form-label">URL de Imagen</label>
      <input type="text" class="form-control" id="symbolImageUrl" name="symbolImageUrl" required value="<%= iron ? iron.symbolImageUrl : '' %>">
    </div>
    <div class="mb-3">
      <label for="description" class="form-label">Descripción</label>
      <textarea class="form-control" id="description" name="description"><%= iron ? iron.description : '' %></textarea>
    </div>
    <div class="mb-3">
      <label for="userId" class="form-label">Usuario</label>
      <select class="form-select" id="userId" name="userId" required>
        <% users.forEach(user => { %>
          <option value="<%= user.id %>" <%= iron && iron.userId === user.id ? 'selected' : '' %>><%= user.username %></option>
        <% }) %>
      </select>
    </div>
    <div class="mb-3">
      <label for="stateId" class="form-label">Estado</label>
      <select class="form-select" id="stateId" name="stateId" required>
        <% states.forEach(state => { %>
          <option value="<%= state.id %>" <%= iron && iron.stateId === state.id ? 'selected' : '' %>><%= state.name %></option>
        <% }) %>
      </select>
    </div>
    <div class="mb-3">
      <label for="municipio" class="form-label">Municipio</label>
      <input type="text" class="form-control" id="municipio" name="municipio" required value="<%= iron ? iron.municipio : '' %>">
    </div>
    <div class="mb-3">
      <label for="type" class="form-label">Tipo</label>
      <select class="form-select" id="type" name="type" required>
        <option value="natural" <%= iron && iron.type === 'natural' ? 'selected' : '' %>>Natural</option>
        <option value="juridico" <%= iron && iron.type === 'juridico' ? 'selected' : '' %>>Jurídico</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
    <a href="/admin/irons" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
<%- include('../partials/footer') %>
